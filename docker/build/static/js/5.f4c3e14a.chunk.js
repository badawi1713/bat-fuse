(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[5],{1243:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(15),r=a(0);function l(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function c(){var e=Object(r.useState)(l()),t=Object(n.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){c(l())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}},1256:function(e,t,a){},1283:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(192),l=a(1199),c=a(1235),i=a(1225),s=a(1208),o=a(178),m=a(177),f=a(359),u=a(3),x=a(1243),d=a(0),p=a.n(d),h=a(6),E=a(41),b=a(9),g=a.n(b),y=a(10),v=a(14),N=a(68),w=a(69),j=a(360),O=a(125),D=a(124),F=a(1244),B=a.n(F),C=a(1245),k=a.n(C),A=a(1246),z=a.n(A),I=a(1247),S=a.n(I);S.a.fcRoot(B.a,k.a,z.a),B.a.options.license({key:"lB-21D8ramD4A2I3I2B4D2C7E6D5F3H2I2crtE2D6D-11A-9qmzA7C8qgpC4D1I4D1B3D3E2E6C1G1B4F4B3B6C1E3gzzC1G4B1zB1E4B1oreA33A8B14cetB4A4H4gyB-33A7A3A3D6C1C4C1C3C5A2B2B-13vvF1B3EC2fbqE6D4G4i1sB8TD6B5iizH3H3B5D9A6D5B5B1F4D3H2C9C5C1f1==",creditLabel:!1});var q=function(e){Object(O.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).onFetchData=n.onFetchData.bind(Object(j.a)(n)),n.state={timeseriesDs:{type:"timeseries",id:"home-chart",renderAt:"container",width:"100%",height:n.props.height||"350",dataFetch:!0,schemaFetch:[{id:0,name:"Time",type:"date",format:"%-d/%-m/%y %H:%M"},{id:1,name:"Boiler Efficiency",type:"number"},{id:2,name:"Sootblow Optimization Running",type:"number"},{id:3,name:"Combustion Optimization Running",type:"number"}],dataSource:{}}},n}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.props.data)&&t.length>0)){e.next=15;break}return e.t0=this,e.t1=y.a,e.t2=Object(y.a)({},this.state.timeseriesDs),e.t3={},e.next=8,t;case 8:return e.t4=e.sent,e.t5={dataFetch:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t7={timeseriesDs:e.t6},e.t0.setState.call(e.t0,e.t7),e.next=15,this.onFetchData();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.data===t.data){e.next=5;break}return e.next=3,this.setState((function(e){return{timeseriesDs:Object(y.a)(Object(y.a)({},e.timeseriesDs),{},{dataFetch:a.props.data,height:a.props.height,dataSource:{chart:{chartLeftMargin:"0",chartTopMargin:"0",chartRightMargin:"0",chartBottomMargin:"0",bgColor:"#000",bgAlpha:"0",showLegend:1,showtooltip:1,multiCanvas:!1,paletteColors:"#00ff37, #fff00, #2196F3",style:{text:{fill:"#fff","font-size":12},canvas:{"fill-opacity":0},background:{"fill-opacity":0}}},legend:{alignment:"middle"},navigator:{enabled:0},extensions:{customRangeSelector:{enabled:"0"}},yaxis:[{id:1,plot:[{value:"Boiler Efficiency",connectNullData:!0}],title:"",orientation:"left",plottype:"smooth-line",format:{suffix:" %"},referenceLine:[{label:"Boiler Efficiency",value:a.props.referenceValue,style:{marker:{"stroke-dasharray":"4 1",fill:"#fb8c00",stroke:"#fb8c00","stroke-width":"2"}}}]},{id:2,plot:[{value:"Sootblow Optimization Running",connectNullData:!0,aggregation:"Last"}],title:"",orientation:"right",plottype:"step-line",min:"0",max:"1",format:{defaultFormat:0,round:"1"},showYAxis:0},{id:3,plot:[{value:"Combustion Optimization Running",connectNullData:!0,aggregation:"Last"}],title:"Sootblow & Combustion Optimization Running",orientation:"right",plottype:"step-line",min:"0",max:"1",format:{defaultFormat:0,round:"1"},style:{text:{color:"#000","font-size":11}}}]}})}}));case 3:return e.next=5,this.onFetchData();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onFetchData",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,r,l=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state;case 2:t=e.sent,a=t.timeseriesDs,n=a.dataFetch,r=a.schemaFetch,Promise.all([n,r]).then((function(e){var t=e[0],a=e[1],n=(new B.a.DataStore).createDataTable(t,a),r=Object(y.a)({},l.state.timeseriesDs);r.dataSource.data=n,l.setState({timeseriesDs:r})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("props",this.props),p.a.createElement("div",{className:this.props.loading||0===this.props.data.length?"flex-1 flex items-center justify-center":"flex-1 items-center justify-center"},this.props.loading?p.a.createElement("div",{className:"w-full text-11 xl:text-16 text-center"},"Loading Chart"):0===this.props.data.length?p.a.createElement("div",{className:"w-full text-11 xl:text-16 text-center"},"No chart available right now"):p.a.createElement(S.a,this.state.timeseriesDs))}}]),a}(p.a.Component),L=(a(1256),Object(l.a)((function(){return{statusButtonOn:{color:"#FFF",backgroundColor:"#3D9140","&:hover":{backgroundColor:"#327835"}},statusButtonOff:{color:"#FFF",backgroundColor:"#FA0000","&:hover":{backgroundColor:"#bd291e"}}}})));t.default=function(){var e=L(),t=Object(h.c)(),a=Object(h.d)((function(e){return e.efficiencyReducer})),l=Object(d.useState)("370"),b=Object(n.a)(l,2),g=b[0],y=b[1],v=Object(x.a)(),N=v.width,w=v.height;Object(d.useEffect)((function(){t(Object(f.l)())}),[t]),Object(d.useEffect)((function(){!function(e,t){y(e>=1920?"470":e>=1300?"350":"370")}(N)}),[N,w]);var j=a.improvementEfficiency,O=a.baselineEfficiency,D=a.currentEfficiency,F=a.chart,B=a.referenceValue,C=a.loading;return p.a.createElement("div",{className:"py-16 h-full container px-0 mx-24"},p.a.createElement(c.a,{smDown:!0},p.a.createElement(r.a,{animation:"transition.slideUpIn",delay:200},p.a.createElement(i.a,{container:!0,direction:"column",spacing:1,className:"pt-10 h-full"},p.a.createElement(i.a,{item:!0,container:!0,className:"flex-initial",spacing:1},p.a.createElement(i.a,{item:!0,xs:12,md:6},p.a.createElement(E.a,{to:"/combustion"},p.a.createElement(s.a,{fullWidth:!0,variant:"outlined",className:Object(u.a)("h-full",e.statusButtonOff)},p.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center"},p.a.createElement(i.a,{item:!0},p.a.createElement(o.a,{className:"text-20 lg:text-28"},"Combustion Optimization")))))),p.a.createElement(i.a,{item:!0,xs:12,md:6},p.a.createElement(E.a,{to:"/sootblow"},p.a.createElement(s.a,{fullWidth:!0,variant:"outlined",className:Object(u.a)("h-full",e.statusButtonOff)},p.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center"},p.a.createElement(i.a,{item:!0},p.a.createElement(o.a,{className:"text-20 lg:text-28"},"Sootblow Optimization"))))))),p.a.createElement(i.a,{item:!0,className:"flex-1 overflow-auto"},p.a.createElement(m.a,{square:!0,className:"border-grey-800 bg-transparent border w-full h-full rounded p-8"},p.a.createElement("div",{className:"flex md:flex-row space-x-8 flex-col-reverse h-full justify-around md:justify-start"},p.a.createElement("div",{className:"w-full md:w-4/5 h-full flex flex-col justify-center"},p.a.createElement(o.a,{className:"text-center text-16 uppercase xl:text-28"},"Boiler Efficiency Improvement"),p.a.createElement("div",{className:"flex justify-center items-center"},p.a.createElement(q,{id:"home-chart",height:g,loading:C,data:F,referenceValue:B}))),p.a.createElement("div",{className:"flex flex-row md:flex-col flex-1 space-x-8 md:space-x-0 md:space-y-8"},p.a.createElement("div",{className:"flex-1 flex"},p.a.createElement(m.a,{square:!0,className:"flex-1 flex flex-col justify-between py-10 xl:py-24"},p.a.createElement(o.a,{className:"text-center text-14 xl:text-20"},"Current Efficiency"),p.a.createElement(o.a,{className:D<0?"text-red text-center text-36  font-semibold":"text-light-green-A700 text-center text-36  font-semibold"},D?Number(D).toFixed(2):Number(0).toFixed(2),"%"),p.a.createElement("div",null))),p.a.createElement("div",{className:"flex-1 flex"},p.a.createElement(m.a,{square:!0,className:"flex-1 flex flex-col justify-between py-10 xl:py-24"},p.a.createElement(o.a,{className:"text-center text-14 xl:text-20"},"Efficiency Improvement"),p.a.createElement(o.a,{className:j<0?"text-red text-center text-36  font-semibold":"text-light-green-A700 text-center text-36  font-semibold"},j?Number(j).toFixed(2):Number(0).toFixed(2),"%"),p.a.createElement("div",null))),p.a.createElement("div",{className:"flex-1 flex"},p.a.createElement(m.a,{square:!0,className:"flex-1 flex flex-col justify-between py-10 xl:py-24"},p.a.createElement(o.a,{className:"text-center text-14 xl:text-20"},"Efficiency Baseline"),p.a.createElement(o.a,{className:" text-center text-36 text-orange-600 font-semibold"},O?Number(O).toFixed(2):Number(0).toFixed(2),"%"),p.a.createElement("div",null)))))))))),p.a.createElement(c.a,{mdUp:!0},p.a.createElement(r.a,{animation:"transition.slideUpIn",delay:200},p.a.createElement(i.a,{container:!0,spacing:2,alignItems:"center"},p.a.createElement(i.a,{item:!0,xs:12},p.a.createElement(E.a,{to:"/combustion"},p.a.createElement(s.a,{fullWidth:!0,variant:"outlined",className:Object(u.a)("h-full",e.statusButtonOff)},p.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center"},p.a.createElement(i.a,{item:!0},p.a.createElement(o.a,{className:"text-18"},"Combustion Optimization")))))),p.a.createElement(i.a,{item:!0,xs:12},p.a.createElement(E.a,{to:"/sootblow"},p.a.createElement(s.a,{fullWidth:!0,variant:"outlined",className:Object(u.a)("h-full",e.statusButtonOff)},p.a.createElement(i.a,{container:!0,justify:"center",alignItems:"center"},p.a.createElement(i.a,{item:!0},p.a.createElement(o.a,{className:"text-18"},"Sootblow Optimization")))))),p.a.createElement(i.a,{item:!0,xs:12},p.a.createElement(m.a,{square:!0,className:"border-grey-800 bg-transparent border w-full h-full rounded p-8"},p.a.createElement(i.a,{container:!0,className:"w-full h-full space-y-8"},p.a.createElement(i.a,{item:!0,className:"flex flex-1 space-x-8"},p.a.createElement("div",{className:"flex-1 flex"},p.a.createElement(m.a,{square:!0,className:"flex-1 flex flex-col justify-between py-10 px-4"},p.a.createElement(o.a,{className:"text-center text-10"},"Current Efficiency"),p.a.createElement(o.a,{className:D<0?"text-red text-center text-24  font-semibold":"text-light-green-A700 text-center text-24  font-semibold"},D?Number(D).toFixed(2):Number(0).toFixed(2),"%"),p.a.createElement("div",null))),p.a.createElement("div",{className:"flex-1 flex"},p.a.createElement(m.a,{square:!0,className:"flex-1 flex flex-col justify-between py-10 px-4"},p.a.createElement(o.a,{className:"text-center text-10"},"Efficiency Improvement"),p.a.createElement(o.a,{className:j<0?"text-red text-center text-24  font-semibold":"text-light-green-A700 text-center text-24  font-semibold"},j?Number(j).toFixed(2):Number(0).toFixed(2),"%"),p.a.createElement("div",null))),p.a.createElement("div",{className:"flex-1 flex"},p.a.createElement(m.a,{square:!0,className:"flex-1 flex flex-col justify-between py-10 px-4"},p.a.createElement(o.a,{className:"text-center text-10"},"Efficiency Baseline"),p.a.createElement(o.a,{className:" text-center text-24 text-orange-600 font-semibold"},O?Number(O).toFixed(2):Number(0).toFixed(2),"%"),p.a.createElement("div",null)))),p.a.createElement(i.a,{item:!0,className:"w-full h-full flex flex-col justify-center"},p.a.createElement(o.a,{className:"text-center text-12 uppercase"},"BAT Efficiency Improvement Dashboard"),p.a.createElement(q,{id:"home-chart",height:"100%",loading:C,data:F,referenceValue:B})))))))))}}}]);